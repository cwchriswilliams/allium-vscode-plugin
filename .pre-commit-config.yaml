repos:
  - repo: local
    hooks:
      - id: lint-staged
        name: lint-staged (biome + eslint autofix)
        entry: env PRE_COMMIT_HOME=.pre-commit-cache npx lint-staged --concurrent false
        language: system
        pass_filenames: false
      - id: allium-check
        name: allium-check
        entry: env PRE_COMMIT_HOME=.pre-commit-cache bash -lc 'npm run check -- --autofix docs/project/specs && git add -A docs/project/specs'
        language: system
        pass_filenames: false
        always_run: true
      - id: allium-format
        name: allium-format
        entry: env PRE_COMMIT_HOME=.pre-commit-cache npm run format:allium -- docs/project/specs
        language: system
        pass_filenames: false
        always_run: true
      - id: unit-tests
        name: unit-tests
        entry: env PRE_COMMIT_HOME=.pre-commit-cache npm run test
        language: system
        pass_filenames: false
        always_run: true
      - id: spec-drift
        name: spec-drift
        entry: env PRE_COMMIT_HOME=.pre-commit-cache npm run drift:check
        language: system
        pass_filenames: false
        always_run: true
